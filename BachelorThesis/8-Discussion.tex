\chapter{Discussion}
\section{Introduction}
This chapter will consist of justification of the groups choices during the construction of the pipeline and changes that were made during the project. 

\section{Chosen branch protection rules}
When deciding which branch protection rules to implement, it is important that securing the branch does not drastically affect the work flow. There are several possible protection rules to enable, described in \ref{branchprotection}. Though, enabling all of the rules at once may do more harm than good, as every pull request and commit must go through several steps which will make the work flow less efficient. Therefore, selecting only the most useful rules will benefit the development. 
\\~\\
The "Four Eyes Principle" is a mechanism where activities, in this case pull requests, needs approval from two individuals.  This principle is implemented by enabling "Require a pull request before merging", and require two approvals before merging. By enabling this rule, the risk of unwanted code being merged into the basecode is lower, without disrupting the work of all developers since only two need to look through the code. \cite{foureyes}
\\~\\
Another implemented branch rule, is requiring signed commits. Signed commits requires some pre-configurations, but once that is done, all the developers have to do is enter a passphrase, and the commit is verified. By implementing required signed commits, it ensures the integrity of the code while the work flow undisturbed.

\section{Notes}
Pipeline design - present and argue our design \\
Chosen tools - why, what to think about \\
Automation - pros and cons, the setup is long but worth it in the end \\
Sum up\\~\\

Discuss why we did things differently from the project plan \\
Things took way more time than intended - worked with AWS and Terraform which we had never used before\\
Limitations\\


%\section{Chosen SAST tool}


\section{Automation}

\section{Revising the Thesis Angle}
When writing the project plan, the group originally planned to write the thesis where various security testing tools would be tested and analysed, and later on demonstrate how the different tools could be used together. The main focus would be on the tools, and try to test as many tools as possible. The group found it difficult to create a unique thesis due to previous theses with similar topics. 

After a meeting with our professor Erik Hjelm√•s discussing this issue, the group found an alternative approach for the thesis, based on the discussion with Erik and a report from usenix \cite{usenixreport} shown to the group. The new approach involved incorporating more practical work with infrastructure-as-code, and placing greater focus on utilizing tools that were already integrated into GitHub and AWS as well as implementing best practice security measures. This approach of the thesis seemed to be more aimed at professional life, and what kind of research was needed as of today.  


\section{Expectation Compared to Reality}
As mentioned in the section \ref{section:Knowledge that had to be acquired}, the group had little to no knowledge about infrastructure-as-code, especially not Terraform. During the work process, the group encountered far more problems with the building of the pipeline with Terraform and \acrshort{aws} than first expected. The group had some experience with Microsoft Azure from previous courses, and perhaps thought that \acrshort{aws} was a bit more similar to Azure than it actually is. Additionally, \acrshort{aws} provides a wide range of services which targets the same or similar issues. Choosing these services and connecting them with each other has been a larger challenge than expected. Furthermore, doing all of these configurations using Terraform has made it more challenging. life is a struggle :') 



\section{Limitations}

